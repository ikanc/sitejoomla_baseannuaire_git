/* ------------------------------------------------------------------------
  # mod_sobiextsearch - This module will load the "Extended Search" as a module.
  # ------------------------------------------------------------------------
  # author    Prieco S.A.
  # copyright Copyright (C) 2011 Prieco.com. All Rights Reserved.
  # @license - http://http://www.gnu.org/licenses/gpl-3.0.html GNU/GPL
  # Websites: http://www.prieco.com
  # Technical Support:  Forum - http://www.prieco.com/en/contact.html
  ------------------------------------------------------------------------- */

var MjRsHelper=function(){var a,b,c;a=document.getElementById("XTmj_rs_center_selector");b={types:[]};c=new google.maps.places.Autocomplete(a,b);google.maps.event.addListener(c,"place_changed",function(){var a=c.getPlace();jQuery("#XTmj_rs_ref_lat").val(a.geometry.location.lat());jQuery("#XTmj_rs_ref_lng").val(a.geometry.location.lng())});jQuery("#XTmj_rs_center_selector").keypress(function(a){if(a.keyCode===13){a.preventDefault()}})};MjRsHelper.prototype.userPos=function(){var a=new google.maps.Geocoder;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(b){a.geocode({latLng:new google.maps.LatLng(b.coords.latitude,b.coords.longitude)},function(a,c){if(c===google.maps.GeocoderStatus.OK){jQuery("#XTmj_rs_ref_lat").val(b.coords.latitude);jQuery("#XTmj_rs_ref_lng").val(b.coords.longitude);jQuery("#XTmj_rs_center_selector").val(a[0].formatted_address)}else{alert("Geolocation did not work. Reason :"+c)}})})}else{alert("In order to use this function you must allow your browser to share your location.")}}